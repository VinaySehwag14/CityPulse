(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[336],{639:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(4294).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},667:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(5155),r=s(2821);let n={primary:"bg-[#0caee8] text-white hover:bg-[#0090c6] active:scale-[0.97]",secondary:"bg-[#1c2128] text-[#e6edf3] border border-[#30363d] hover:bg-[#252b33] active:scale-[0.97]",ghost:"text-[#8b949e] hover:text-[#e6edf3] hover:bg-[#1c2128]",danger:"bg-red-500/10 text-red-400 border border-red-500/30 hover:bg-red-500/20"},i={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};function l(e){let{variant:t="primary",size:s="md",loading:l=!1,className:c,children:d,disabled:o,...u}=e;return(0,a.jsxs)("button",{className:(0,r.$)("inline-flex items-center justify-center gap-2 font-medium rounded-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#0caee8]",n[t],i[s],c),disabled:o||l,...u,children:[l&&(0,a.jsx)("span",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),d]})}},1750:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(5155),r=s(2821);let n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};function i(e){let{size:t="md",className:s}=e;return(0,a.jsx)("span",{role:"status","aria-label":"Loading",className:(0,r.$)("block border-2 border-[#30363d] border-t-[#0caee8] rounded-full animate-spin",n[t],s)})}},2327:(e,t,s)=>{"use strict";s.d(t,{$P:()=>c,Vg:()=>l});var a=s(5125);let r="http://localhost:4000/api",n=a.A.create({baseURL:r,headers:{"Content-Type":"application/json"}});function i(e){return a.A.create({baseURL:r,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}async function l(e,t){let s=t?i(t):n,a=await s.get(e);if(!a.data.success||void 0===a.data.data){var r;throw Error(null!=(r=a.data.error)?r:"Unknown error")}return a.data.data}async function c(e,t,s){let a=i(s),r=await a.post(e,t);if(!r.data.success||void 0===r.data.data){var n;throw Error(null!=(n=r.data.error)?n:"Unknown error")}return r.data.data}},4e3:(e,t,s)=>{"use strict";s.d(t,{W0:()=>d,_q:()=>c});var a=s(3455),r=s(9776),n=s(549),i=s(7471),l=s(2327);function c(e){return(0,a.I)({queryKey:["event",e],queryFn:()=>(0,l.Vg)("/events/".concat(e)),enabled:!!e})}function d(){let{getToken:e}=(0,i.d)(),t=(0,r.jE)();return(0,n.n)({mutationFn:async t=>{let s=await e();return(0,l.$P)("/events",t,s)},onSuccess:()=>{t.invalidateQueries({queryKey:["feed"]})}})}},4294:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(2115);let r=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:d="",children:o,iconNode:u,...x}=e;return(0,a.createElement)("svg",{ref:t,...n,width:i,height:i,stroke:s,strokeWidth:c?24*Number(l)/Number(i):l,className:r("lucide",d),...x},[...u.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(o)?o:[o]])}),l=(e,t)=>{let s=(0,a.forwardRef)((s,n)=>{let{className:l,...c}=s;return(0,a.createElement)(i,{ref:n,iconNode:t,className:r("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),l),...c})});return s.displayName="".concat(e),s}},5828:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(5155),r=s(2821);let n={live:"bg-[#22c55e]/15 text-[#22c55e] border border-[#22c55e]/30",trending:"bg-[#f59e0b]/15 text-[#f59e0b] border border-[#f59e0b]/30",going:"bg-[#0caee8]/15 text-[#0caee8] border border-[#0caee8]/30",interested:"bg-purple-500/15 text-purple-400 border border-purple-500/30",default:"bg-[#1c2128] text-[#8b949e] border border-[#30363d]"};function i(e){let{variant:t="default",className:s,children:i,...l}=e;return(0,a.jsxs)("span",{className:(0,r.$)("inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-medium",n[t],s),...l,children:["live"===t&&(0,a.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-[#22c55e] live-dot"}),i]})}},6057:(e,t,s)=>{Promise.resolve().then(s.bind(s,6807))},6711:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(4294).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},6807:(e,t,s)=>{"use strict";s.d(t,{default:()=>j});var a=s(5155),r=s(4e3),n=s(9776),i=s(549),l=s(7471),c=s(2327),d=s(4018),o=s(5828),u=s(667),x=s(1750),m=s(7564),h=s(8127),p=s(639),f=s(6711),b=s(6943);let g=(0,s(4294).A)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);var v=s(2115);function y(e){return new Date(e).toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}function j(e){let{eventId:t}=e,{data:s,isLoading:j,isError:N}=(0,r._q)(t),{isSignedIn:w}=(0,d.Jd)(),A=function(e){let{getToken:t}=(0,l.d)(),s=(0,n.jE)();return(0,i.n)({mutationFn:async()=>{let s=await t();return(0,c.$P)("/events/".concat(e,"/like"),{},s)},onSuccess:()=>{s.invalidateQueries({queryKey:["event",e]}),s.invalidateQueries({queryKey:["feed"]})}})}(t),k=function(e){let{getToken:t}=(0,l.d)(),s=(0,n.jE)();return(0,i.n)({mutationFn:async s=>{let a=await t();return(0,c.$P)("/events/".concat(e,"/attend"),{status:s},a)},onSuccess:()=>{s.invalidateQueries({queryKey:["event",e]})}})}(t),_=function(e){let{getToken:t}=(0,l.d)(),s=(0,n.jE)();return(0,i.n)({mutationFn:async s=>{let a=await t();return(0,c.$P)("/events/".concat(e,"/comments"),{content:s},a)},onSuccess:()=>{s.invalidateQueries({queryKey:["event",e]})}})}(t),[C,E]=(0,v.useState)("");if(j)return(0,a.jsx)("div",{className:"flex justify-center py-20",children:(0,a.jsx)(x.A,{size:"lg"})});if(N||!s)return(0,a.jsx)("p",{className:"text-center text-[#8b949e] py-20",children:"Event not found."});let L=new Date(s.start_time)<=new Date&&new Date(s.end_time)>new Date,q=async e=>{e.preventDefault(),C.trim()&&(await _.mutateAsync(C.trim()),E(""))};return(0,a.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-8 space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:L?(0,a.jsx)(o.A,{variant:"live",children:"Live Now"}):(0,a.jsx)(o.A,{variant:"default",children:"Upcoming"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-[#e6edf3]",children:s.title}),s.description&&(0,a.jsx)("p",{className:"text-[#8b949e] text-base leading-relaxed",children:s.description})]}),(0,a.jsxs)("div",{className:"glass rounded-2xl p-4 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-sm text-[#8b949e]",children:[(0,a.jsx)(h.A,{className:"w-4 h-4 text-[#0caee8] flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:y(s.start_time)}),(0,a.jsxs)("p",{className:"text-xs",children:["Ends: ",y(s.end_time)]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-sm text-[#8b949e]",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 text-[#0caee8] flex-shrink-0"}),s.location_lat.toFixed(5),", ",s.location_lng.toFixed(5)]})]}),w&&(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)(u.A,{variant:"secondary",onClick:()=>A.mutate(),loading:A.isPending,className:"flex-1",children:[(0,a.jsx)(f.A,{className:"w-4 h-4 text-red-400"}),s.like_count," Like",1!==s.like_count?"s":""]}),(0,a.jsxs)(u.A,{variant:"primary",onClick:()=>k.mutate("going"),loading:k.isPending,className:"flex-1",children:[(0,a.jsx)(b.A,{className:"w-4 h-4"}),s.attendee_count," Going"]})]}),s.attendees.length>0&&(0,a.jsxs)("div",{className:"glass rounded-2xl p-4",children:[(0,a.jsxs)("h2",{className:"text-sm font-semibold text-[#e6edf3] mb-3 flex items-center gap-2",children:[(0,a.jsx)(b.A,{className:"w-4 h-4 text-[#0caee8]"})," Attendees (",s.attendee_count,")"]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:s.attendees.slice(0,10).map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-[#8b949e]",children:[(0,a.jsx)(m.A,{size:"sm",name:e.user_id.slice(0,6)}),(0,a.jsx)(o.A,{variant:"going"===e.status?"going":"interested",children:e.status})]},e.user_id))})]}),(0,a.jsxs)("div",{className:"glass rounded-2xl p-4",children:[(0,a.jsxs)("h2",{className:"text-sm font-semibold text-[#e6edf3] mb-4 flex items-center gap-2",children:[(0,a.jsx)(g,{className:"w-4 h-4 text-[#0caee8]"})," Comments (",s.comments.length,")"]}),w&&(0,a.jsxs)("form",{onSubmit:q,className:"flex gap-2 mb-4",children:[(0,a.jsx)("input",{value:C,onChange:e=>E(e.target.value),placeholder:"Add a commentâ€¦",maxLength:1e3,className:"flex-1 bg-[#1c2128] border border-[#30363d] rounded-xl px-3 py-2 text-sm text-[#e6edf3] placeholder-[#8b949e] focus:outline-none focus:border-[#0caee8] transition-colors"}),(0,a.jsx)(u.A,{type:"submit",size:"sm",loading:_.isPending,disabled:!C.trim(),children:"Post"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[s.comments.map(e=>(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(m.A,{size:"sm",name:e.user_id.slice(0,6)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm text-[#e6edf3]",children:e.content}),(0,a.jsx)("p",{className:"text-xs text-[#8b949e] mt-0.5",children:new Date(e.created_at).toLocaleTimeString()})]})]},e.id)),0===s.comments.length&&(0,a.jsx)("p",{className:"text-[#8b949e] text-sm text-center py-4",children:"No comments yet. Be the first!"})]})]})]})}},6943:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(4294).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},7564:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var a=s(5155),r=s(5239),n=s(2821);let i={sm:"w-7 h-7 text-xs",md:"w-9 h-9 text-sm",lg:"w-12 h-12 text-base"},l={sm:28,md:36,lg:48};function c(e){let{src:t,name:s="?",size:c="md",className:d}=e,o=s.charAt(0).toUpperCase();return(0,a.jsx)("div",{className:(0,n.$)("relative rounded-full overflow-hidden bg-[#1c2128] flex items-center justify-center border border-[#30363d] flex-shrink-0",i[c],d),children:t?(0,a.jsx)(r.default,{src:t,alt:s,width:l[c],height:l[c],className:"object-cover"}):(0,a.jsx)("span",{className:"font-semibold text-[#0caee8]",children:o})})}},8127:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(4294).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])}},e=>{e.O(0,[987,311,235,27,441,255,358],()=>e(e.s=6057)),_N_E=e.O()}]);