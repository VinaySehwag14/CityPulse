(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[845],{667:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(5155),a=r(2821);let l={primary:"bg-[#0caee8] text-white hover:bg-[#0090c6] active:scale-[0.97]",secondary:"bg-[#1c2128] text-[#e6edf3] border border-[#30363d] hover:bg-[#252b33] active:scale-[0.97]",ghost:"text-[#8b949e] hover:text-[#e6edf3] hover:bg-[#1c2128]",danger:"bg-red-500/10 text-red-400 border border-red-500/30 hover:bg-red-500/20"},n={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};function o(e){let{variant:t="primary",size:r="md",loading:o=!1,className:i,children:d,disabled:c,...u}=e;return(0,s.jsxs)("button",{className:(0,a.$)("inline-flex items-center justify-center gap-2 font-medium rounded-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#0caee8]",l[t],n[r],i),disabled:c||o,...u,children:[o&&(0,s.jsx)("span",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),d]})}},1750:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(5155),a=r(2821);let l={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};function n(e){let{size:t="md",className:r}=e;return(0,s.jsx)("span",{role:"status","aria-label":"Loading",className:(0,a.$)("block border-2 border-[#30363d] border-t-[#0caee8] rounded-full animate-spin",l[t],r)})}},2327:(e,t,r)=>{"use strict";r.d(t,{$P:()=>i,Vg:()=>o});var s=r(5125);let a="http://localhost:4000/api",l=s.A.create({baseURL:a,headers:{"Content-Type":"application/json"}});function n(e){return s.A.create({baseURL:a,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}async function o(e,t){let r=t?n(t):l,s=await r.get(e);if(!s.data.success||void 0===s.data.data){var a;throw Error(null!=(a=s.data.error)?a:"Unknown error")}return s.data.data}async function i(e,t,r){let s=n(r),a=await s.post(e,t);if(!a.data.success||void 0===a.data.data){var l;throw Error(null!=(l=a.data.error)?l:"Unknown error")}return a.data.data}},6228:(e,t,r)=>{Promise.resolve().then(r.bind(r,7528))},7528:(e,t,r)=>{"use strict";r.d(t,{default:()=>b});var s=r(5155),a=r(2115),l=r(3455),n=r(9776),o=r(549),i=r(7471),d=r(2327),c=r(4018),u=r(7564),x=r(667),m=r(1750);function f(e){let{active:t,label:r,count:a,onClick:l}=e;return(0,s.jsxs)("button",{onClick:l,className:"flex-1 py-2.5 text-sm font-medium border-b-2 transition-colors ".concat(t?"border-[#0caee8] text-[#0caee8]":"border-transparent text-[#8b949e] hover:text-[#e6edf3]"),children:[r," ",(0,s.jsx)("span",{className:"ml-1 text-xs opacity-70",children:a})]})}function b(e){var t;let{userId:r}=e,{user:b}=(0,c.Jd)(),{data:h,isLoading:p}=(0,l.I)({queryKey:["user",r],queryFn:()=>(0,d.Vg)("/users/".concat(r)),enabled:!!r}),{data:v=[]}=(0,l.I)({queryKey:["followers",r],queryFn:()=>(0,d.Vg)("/users/".concat(r,"/followers")),enabled:!!r}),{data:g=[]}=(0,l.I)({queryKey:["following",r],queryFn:()=>(0,d.Vg)("/users/".concat(r,"/following")),enabled:!!r}),w=function(e){let{getToken:t}=(0,i.d)(),r=(0,n.jE)();return(0,o.n)({mutationFn:async()=>{let r=await t();return(0,d.$P)("/users/".concat(e,"/follow"),{},r)},onSuccess:()=>{r.invalidateQueries({queryKey:["followers",e]}),r.invalidateQueries({queryKey:["user",e]})}})}(r),[y,j]=(0,a.useState)("followers"),N=(null==b?void 0:b.id)===(null==h?void 0:h.clerk_id);if(p)return(0,s.jsx)("div",{className:"flex justify-center py-16",children:(0,s.jsx)(m.A,{size:"lg"})});if(!h)return(0,s.jsx)("p",{className:"text-center text-[#8b949e] py-16",children:"User not found."});let k="followers"===y?v:g;return(0,s.jsxs)("div",{className:"max-w-xl mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"glass rounded-2xl p-6 mb-6 flex items-center gap-5",children:[(0,s.jsx)(u.A,{src:h.avatar,name:h.name,size:"lg"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-[#e6edf3] truncate",children:h.name}),h.bio&&(0,s.jsx)("p",{className:"text-sm text-[#8b949e] mt-0.5 line-clamp-2",children:h.bio})]}),!N&&b&&(0,s.jsx)(x.A,{variant:"secondary",size:"sm",onClick:()=>w.mutate(),loading:w.isPending,children:(null==(t=w.data)?void 0:t.following)===!1?"Follow":"Following"})]}),(0,s.jsxs)("div",{className:"glass rounded-2xl overflow-hidden mb-4",children:[(0,s.jsxs)("div",{className:"flex border-b border-[#30363d]",children:[(0,s.jsx)(f,{active:"followers"===y,label:"Followers",count:v.length,onClick:()=>j("followers")}),(0,s.jsx)(f,{active:"following"===y,label:"Following",count:g.length,onClick:()=>j("following")})]}),(0,s.jsx)("div",{className:"divide-y divide-[#30363d]",children:0===k.length?(0,s.jsx)("p",{className:"text-center text-[#8b949e] text-sm py-8",children:"followers"===y?"No followers yet":"Not following anyone yet"}):k.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 hover:bg-[#1c2128] transition-colors",children:[(0,s.jsx)(u.A,{src:e.avatar,name:e.name,size:"sm"}),(0,s.jsx)("div",{className:"flex-1 min-w-0",children:(0,s.jsx)("p",{className:"text-sm font-medium text-[#e6edf3] truncate",children:e.name})})]},e.id))})]})]})}},7564:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(5155),a=r(5239),l=r(2821);let n={sm:"w-7 h-7 text-xs",md:"w-9 h-9 text-sm",lg:"w-12 h-12 text-base"},o={sm:28,md:36,lg:48};function i(e){let{src:t,name:r="?",size:i="md",className:d}=e,c=r.charAt(0).toUpperCase();return(0,s.jsx)("div",{className:(0,l.$)("relative rounded-full overflow-hidden bg-[#1c2128] flex items-center justify-center border border-[#30363d] flex-shrink-0",n[i],d),children:t?(0,s.jsx)(a.default,{src:t,alt:r,width:o[i],height:o[i],className:"object-cover"}):(0,s.jsx)("span",{className:"font-semibold text-[#0caee8]",children:c})})}}},e=>{e.O(0,[987,311,235,27,441,255,358],()=>e(e.s=6228)),_N_E=e.O()}]);